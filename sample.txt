        try (ByteArrayInputStream inputStream = new ByteArrayInputStream(afpFile)) {
            byte[] header = new byte[6];
            if (inputStream.read(header) != 6) {
                return false;
            }

            // Convert first three unsigned shorts
            ByteBuffer buffer = ByteBuffer.wrap(header);
            buffer.order(ByteOrder.BIG_ENDIAN);
            int firstShort = buffer.getShort() & 0xFFFF;
            int secShort = buffer.getShort() & 0xFFFF;
            int thirdShort = buffer.getShort() & 0xFFFF;
